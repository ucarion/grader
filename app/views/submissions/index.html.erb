<% provide(:title, "Submissions for #{@assignment.name}") %>

<div class="pane">
  <h1>Submissions for <%= link_to @assignment.name, @assignment %></h1>

  <% if @submissions.any? %>
    <table class="table table-bordered list-users-table">
      <tr>
        <th></th>
        <th>Student <%= sort_links('author', 'alpha') %></th>
        <th>Grade <%= sort_links('grade', 'numeric') %></th>
        <th>Status <%= sort_links('status', 'amount') %></th>
      </tr>
      <% @submissions.each do |submission| %>
        <tr class="<%= table_class_for_status(submission.status) %>">
          <td><%= profile_picture(submission.author) %></td>
          <td><%= link_to submission.author.name, submission %></td>
          <td>
            <% if submission.grade %>
              <%= submission.grade %> / <%= @assignment.point_value %>
            <% else %>
              <i>Ungraded</i>
            <% end %>
          </td>
          <td><%= submission.status_as_string.capitalize if submission.status %></td>
        </tr>
      <% end %>
    </table>
  <% else %>
    <i>There are no submissions for this assignment.</i>
  <% end %>
</div>
